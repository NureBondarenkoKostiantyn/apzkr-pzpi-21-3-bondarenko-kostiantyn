<mat-card *ngIf="session">
  <mat-card-content>
    <p>Start Date: {{session.date | date: 'short'}}</p>
    <p>End Date: {{session.endDate | date: 'short'}}</p>
    <p>Duration: {{session.duration}} minutes</p>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button (click)="deleteSession()">Delete</button>
  </mat-card-actions>
</mat-card>

<div class="table-container">
  <table mat-table [dataSource]="athletes" class="mat-elevation-z8">

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef class='mat-header-cell'> Email </th>
      <td mat-cell *matCellDef="let element" class="mat-cell" (click)="onSelectUser(element.id)">
        {{element.email}}
      </td>
    </ng-container>

    <ng-container matColumnDef="firstName">
      <th mat-header-cell *matHeaderCellDef class='mat-header-cell'> First Name </th>
      <td mat-cell *matCellDef="let element" class="mat-cell">
        {{element.firstName}}
      </td>
    </ng-container>

    <ng-container matColumnDef="lastName">
      <th mat-header-cell *matHeaderCellDef class='mat-header-cell'> Last Name </th>
      <td mat-cell *matCellDef="let element" class="mat-cell">
        {{element.lastname}}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns" class="mat-row"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="mat-row"></tr>
  </table>
</div>

<div *ngIf="userSelected" class="container">
  <div class="row">
    <div class="chart-item">
      <h3>Heart Rate</h3>
      <ngx-charts-line-chart
        [view]="view"
        [scheme]="colorScheme"
        [results]="heartRateData"
        [gradient]="gradient"
        [xAxis]="true"
        [yAxis]="true"
        [legend]="showLegend"
        [showXAxisLabel]="true"
        [showYAxisLabel]="true"
        [xAxisLabel]="'Date'"
        [yAxisLabel]="'Heart Rate (bpm)'">
      </ngx-charts-line-chart>
    </div>
  </div>
  <div class="row">
    <div class="chart-item">
      <h3>Distance</h3>
      <ngx-charts-bar-vertical
        [view]="view"
        [scheme]="colorScheme"
        [results]="distanceData"
        [gradient]="gradient"
        [legend]="showLegend"
        [showXAxisLabel]="true"
        [showYAxisLabel]="true"
        [xAxisLabel]="'Date'"
        [yAxisLabel]="'Distance (km)'"
        [roundEdges]="roundEdges">
      </ngx-charts-bar-vertical>
    </div>
  </div>
  <div class="row">
    <div class="chart-item">
      <h3>Speed</h3>
      <ngx-charts-line-chart
        [view]="view"
        [scheme]="colorScheme"
        [results]="speedData"
        [gradient]="gradient"
        [xAxis]="true"
        [yAxis]="true"
        [legend]="showLegend"
        [showXAxisLabel]="true"
        [showYAxisLabel]="true"
        [xAxisLabel]="'Num'"
        [yAxisLabel]="'Speed'">
      </ngx-charts-line-chart>
    </div>
  </div>
  <div class="row">
    <div class="chart-item">
      <h3>Caloric Burn</h3>
      <ngx-charts-bar-vertical-stacked
        [view]="view"
        [scheme]="colorScheme"
        [results]="caloricBurnData"
        [gradient]="gradient"
        [legend]="showLegend"
        [xAxis]="true"
        [yAxis]="true"
        [showXAxisLabel]="true"
        [showYAxisLabel]="true"
        [xAxisLabel]="'Date'"
        [yAxisLabel]="'Calories Burned (kcal)'">
      </ngx-charts-bar-vertical-stacked>
    </div>
  </div>
  <div class="row">
    <div class="chart-item">
      <h3>Exercise Duration</h3>
      <ngx-charts-line-chart
        [view]="centeredView"
        [scheme]="colorScheme"
        [results]="exerciseDurationData"
        [gradient]="gradient"
        [xAxis]="true"
        [yAxis]="true"
        [legend]="showLegend"
        [showXAxisLabel]="true"
        [showYAxisLabel]="true"
        [xAxisLabel]="'Date'"
        [yAxisLabel]="'Duration (minutes)'">
      </ngx-charts-line-chart>
    </div>
  </div>
</div>
